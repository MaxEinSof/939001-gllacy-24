var button=document.querySelector(".contacts-button"),popup=document.querySelector(".modal-feedback"),overlay=document.querySelector(".modal-overlay"),close=popup.querySelector(".modal-close"),form=popup.querySelector(".modal-form"),nameField=popup.querySelector("#modal-name-field"),email=popup.querySelector("#modal-email-field"),message=popup.querySelector("#modal-message-field"),storageSupport=!0,storageName=null,storageEmail=null,buttonGreen=document.querySelector(".button-green"),buttonViolet=document.querySelector(".button-violet"),buttonRed=document.querySelector(".button-red"),slideGreen=document.querySelector(".slide-green"),slideViolet=document.querySelector(".slide-violet"),slideRed=document.querySelector(".slide-red"),imageGreen=document.querySelector(".promo-image-green"),imageViolet=document.querySelector(".promo-image-violet"),imageRed=document.querySelector(".promo-image-red"),bodyColor=document.querySelector("body");try{storageName=localStorage.getItem("name")}catch(e){storageSupport=!1}try{storageEmail=localStorage.getItem("email")}catch(e){storageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),popup.classList.add("modal-animate"),overlay.classList.add("modal-show"),storageName?(nameField.value=storageName,email.focus()):nameField.focus(),storageName&&storageEmail&&(nameField.value=storageName,email.value=storageEmail,message.focus())}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-animate"),popup.classList.remove("modal-error"),overlay.classList.remove("modal-show")}),overlay.addEventListener("click",function(e){popup.classList.remove("modal-show"),popup.classList.remove("modal-animate"),popup.classList.remove("modal-error"),overlay.classList.remove("modal-show")}),form.addEventListener("submit",function(e){nameField.value&&email.value&&message.value?storageSupport&&(localStorage.setItem("name",nameField.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-animate"),popup.classList.remove("modal-error")),overlay.classList.contains("modal-show")&&overlay.classList.remove("modal-show"))}),buttonGreen.addEventListener("click",function(e){e.preventDefault(),slideGreen.classList.add("slide-show"),bodyColor.classList.add("background-green"),buttonGreen.classList.add("switch-button-current"),imageGreen.classList.add("icecream-show"),slideViolet.classList.contains("slide-show")&&(slideViolet.classList.remove("slide-show"),bodyColor.classList.remove("background-violet"),buttonViolet.classList.remove("switch-button-current"),imageViolet.classList.remove("icecream-show")),slideRed.classList.contains("slide-show")&&(slideRed.classList.remove("slide-show"),bodyColor.classList.remove("background-red"),buttonRed.classList.remove("switch-button-current"),imageRed.classList.remove("icecream-show"))}),buttonViolet.addEventListener("click",function(e){e.preventDefault(),slideViolet.classList.add("slide-show"),bodyColor.classList.add("background-violet"),buttonViolet.classList.add("switch-button-current"),imageViolet.classList.add("icecream-show"),slideGreen.classList.contains("slide-show")&&(slideGreen.classList.remove("slide-show"),bodyColor.classList.remove("background-green"),buttonGreen.classList.remove("switch-button-current"),imageGreen.classList.remove("icecream-show")),slideRed.classList.contains("slide-show")&&(slideRed.classList.remove("slide-show"),bodyColor.classList.remove("background-red"),buttonRed.classList.remove("switch-button-current"),imageRed.classList.remove("icecream-show"))}),buttonRed.addEventListener("click",function(e){e.preventDefault(),slideRed.classList.add("slide-show"),bodyColor.classList.add("background-red"),buttonRed.classList.add("switch-button-current"),imageRed.classList.add("icecream-show"),slideGreen.classList.contains("slide-show")&&(slideGreen.classList.remove("slide-show"),bodyColor.classList.remove("background-green"),buttonGreen.classList.remove("switch-button-current"),imageGreen.classList.remove("icecream-show")),slideViolet.classList.contains("slide-show")&&(slideViolet.classList.remove("slide-show"),bodyColor.classList.remove("background-violet"),buttonViolet.classList.remove("switch-button-current"),imageViolet.classList.remove("icecream-show"))});